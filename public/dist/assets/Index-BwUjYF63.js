import{_ as e,u as o,r as a,z as s,C as l,b as n,c as r,d as t,f as d,g as c,o as u,l as p,t as i}from"./index-BXoF6Zh7.js";const v=(window.require&&window.require("electron")||window.electron||{}).ipcRenderer||void 0,f={checkForUpdater:"controller/framework/checkForUpdater",downloadApp:"controller/framework/downloadApp"},k="custom/app/updater",m={id:"app-updater"},w={class:"one-block-1"},_={style:{display:"flex","flex-direction":"column"}},b={class:"one-block-2"},g={class:"one-block-2"},h=e({__name:"Index",setup(e){const h=o(),x=()=>{h.push({name:"HomeAutoAsk",query:{}})},A=a(0),y=a(""),U=a(0);return s((()=>{v.removeAllListeners(k),v.on(k,((e,o)=>{o=JSON.parse(o),A.value=o.status,3==o.status?(y.value=o.desc,U.value=o.percentNumber):l.info(o.desc)}))})),(e,o)=>{const a=n("a-button"),s=n("a-space"),k=n("a-progress");return u(),r("div",m,[t("div",w,[t("div",_,[d(a,{type:"primary",size:"small",onClick:x},{default:c((()=>o[2]||(o[2]=[p("跳转回复")]))),_:1})]),o[3]||(o[3]=t("span",null," 1. 自动更新 ",-1))]),t("div",b,[d(s,null,{default:c((()=>[d(a,{onClick:o[0]||(o[0]=e=>{v.invoke(f.checkForUpdater).then((e=>{console.log(e)}))})},{default:c((()=>o[4]||(o[4]=[p("检查更新")]))),_:1}),d(a,{onClick:o[1]||(o[1]=e=>{1===A.value?v.invoke(f.downloadApp).then((e=>{console.log(e)})):l.info("没有可用版本")})},{default:c((()=>o[5]||(o[5]=[p("下载并安装")]))),_:1})])),_:1})]),o[6]||(o[6]=t("div",{class:"one-block-1"},[t("span",null," 2. 下载进度 ")],-1)),t("div",g,[d(k,{percent:U.value,status:"active"},null,8,["percent"]),d(s,null,{default:c((()=>[p(i(y.value),1)])),_:1})])])}}},[["__scopeId","data-v-e80d8cdb"],["__file","/Users/UED/Desktop/test/electron-egg/frontend/src/views/framework/updater/Index.vue"]]);export{h as default};
