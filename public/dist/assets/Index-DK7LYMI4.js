import{_ as e,r as o,o as a,z as s,e as n,f as l,j as r,k as t,n as c,y as d,A as u,l as p}from"./index-DsiYf1jd.js";const i=(window.require&&window.require("electron")||window.electron||{}).ipcRenderer||void 0,v={checkForUpdater:"controller/framework/checkForUpdater",downloadApp:"controller/framework/downloadApp"},k="custom/app/updater",f={id:"app-updater"},w={class:"one-block-2"},_={class:"one-block-2"},m=e({__name:"Index",setup(e){const m=o(0),b=o(""),g=o(0);return a((()=>{i.removeAllListeners(k),i.on(k,((e,o)=>{o=JSON.parse(o),m.value=o.status,3==o.status?(b.value=o.desc,g.value=o.percentNumber):s.info(o.desc)}))})),(e,o)=>{const a=n("a-button"),k=n("a-space"),h=n("a-progress");return d(),l("div",f,[o[4]||(o[4]=r("div",{class:"one-block-1"},[r("span",null," 1. 自动更新 ")],-1)),r("div",w,[t(k,null,{default:c((()=>[t(a,{onClick:o[0]||(o[0]=e=>{i.invoke(v.checkForUpdater).then((e=>{console.log(e)}))})},{default:c((()=>o[2]||(o[2]=[u("检查更新")]))),_:1}),t(a,{onClick:o[1]||(o[1]=e=>{1===m.value?i.invoke(v.downloadApp).then((e=>{console.log(e)})):s.info("没有可用版本")})},{default:c((()=>o[3]||(o[3]=[u("下载并安装")]))),_:1})])),_:1})]),o[5]||(o[5]=r("div",{class:"one-block-1"},[r("span",null," 2. 下载进度 ")],-1)),r("div",_,[t(h,{percent:g.value,status:"active"},null,8,["percent"]),t(k,null,{default:c((()=>[u(p(b.value),1)])),_:1})])])}}},[["__scopeId","data-v-e80d8cdb"],["__file","/Users/UED/Desktop/test/electron-egg/frontend/src/views/framework/updater/Index.vue"]]);export{m as default};
